<apex:page controller="dsfs.DocuSignSetupStandardController"
    action="{!initConfiguration}" tabstyle="DocuSign_Admin__tab">
    
    <apex:stylesheet value="{!URLFOR($Resource.dsfs__StandardSetupCss, 'standardSetup.css')}" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script> 
    
    <style type="text/css">
        .progressStyle {
        width: 87%;
        cellspacing: 0;
        frame: void;
        }

.divStyle {
    border: medium solid #00AEEF;
    background-color: white;
    border-radius: 6px;
    min-width: 656px;
}

.createAccountDivStyle {
    border: solid #00AEEF 3px;
    background-color: white;
    border-radius: 6px;
    width: 400px;
}

.headerTextStyle {
    color: #00AEEF;
    font: bold 14px arial;
}

.inputTextStyle {
    border-style: inset;
    border-width: thin;
    border-radius: 6px;
    width: 275px;
}

.tableplaceholder {
    padding: 2px;
}

.checkbox {
    display: inline-block;
    background: url("{!URLFOR($Resource.DocuSignCheck)}");
    width: 16px;
    height: 16px;
}

.selectStateStyle {
    border-style: inset;
    border-width: thin;
    border-radius: 6px;
}

.phoneExtensionStyle {
    border-style: inset;
    border-width: thin;
    border-radius: 6px;
    margin-left: 10px;
}

.sectionStyle {
    cellspacing: 4px;
}

.centeredOutputText {
    text-align: center;
    text-color: red;
}

.headerTableStyle {
    padding: 0px 0px 20px 40px;
}

.subHeaderTextStyle {
    padding: 10px 10px 5px 20px;
}

.offsetTableStyle {
    padding: 0px 0px 0px 40px;
    width: 646px;
}

.backNextTableStyle {
    padding: 0px 0px 0px 40px;
    width: 646px;
}

.addButtonsTableStyle {
    padding: 20px 0px 20px 0px;
    min-width: 656px;
}

.addButtonsCellStyle {

    text-align: center;
    padding: 0px 0px 10px 0px;
}

.backButtonStyle {
    width: 50%;
    text-align: right;
    padding: 0px 25px 0px 0px;
}

.nextButtonStyle {
    width: 50%;
    text-align: left;
    padding: 0px 0px 0px 25px;
}

.mainDocuSignButton {
    background: #fcb034;
    background: -moz-linear-gradient(top, #ffc423 25%, #fcb034 99%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(25%, #fcb034),
        color-stop(99%, #ffc423) );
    background: -webkit-linear-gradient(top, #ffc423 25%, #fcb034 99%);
    background: -o-linear-gradient(top, #ffc423 25%, #fcb034 99%);
    background: -ms-linear-gradient(top, #ffc423 25%, #fcb034 99%);
    background: linear-gradient(top, #ffc423 25%, #fcb034 99%);
    filter: progid : DXImageTransform.Microsoft.gradient (   startColorstr =
        '#ffc423', endColorstr = '#fcb034', GradientType = 0 );
    border: none;
    cursor: pointer;
    -webkit-border-radius: 6px;
    -moz-border-radius: 6px;
    border-radius: 6px;
    padding: 5px 20px;
    color: #303030;
    font-family: AvenirMedium, Verdana, Tahoma, "DejaVu Sans", sans-serif;
    font-size: 0.85em;
    font-weight: bold;
    text-decoration: none;
    -webkit-box-shadow: inset 0px 1px 1px #c08628;
    -moz-box-shadow: inset 0px 1px 1px #c08628;
    box-shadow: inset 0px 1px 1px #c08628;
}

.mainDocuSignButton:hover {
    -webkit-box-shadow: 1px 0px 1px 0px #562502;
    -moz-box-shadow: 1px 0px 1px 0px #562502;
    box-shadow: 1px 0px 1px 0px #562502;
    text-decoration: none;
}

.mainDocuSignButton:active {
    background: #fcb034;
    background: -moz-linear-gradient(top, #fdbd0e 25%, #f9a927 99%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(25%, #fdbd0e),
        color-stop(99%, #f9a927) );
    background: -webkit-linear-gradient(top, #fdbd0e 25%, #f9a927 99%);
    background: -o-linear-gradient(top, #fdbd0e 25%, #f9a927 99%);
    background: -ms-linear-gradient(top, #fdbd0e 25%, #f9a927 99%);
    background: linear-gradient(top, #fdbd0e 25%, #f9a927 99%);
    filter: progid : DXImageTransform.Microsoft.gradient (   startColorstr =
        '#fdbd0e', endColorstr = '#f9a927', GradientType = 0 );
    -moz-box-shadow: none;
    box-shadow: none;
    text-decoration: none;
}

</style>

<script>
function OpenURL(name, url, style)
{
    url = unescape(url);
    window.open(url, name, style);
}
function OpenIpRange(name, url, style, id)
{
    var j$ = jQuery.noConflict();
    var element = j$("#" + id).eq(0);
    var oldhtml = element.html();
    if (oldhtml.indexOf("checkbox") == -1) {
        var newhtml = "<div class='checkbox'/>" + oldhtml;
        element.html(newhtml);
    }
    OpenURL(name, url, style);
}

</script>
    <apex:pageMessages />

    <apex:form rendered="{!hasCRUDErrors == false}">
        <apex:actionFunction action="{!Back}" name="DocuSignBack" />
        <apex:actionFunction action="{!CreateAccount}"
            name="DocuSignCreateAccount" />
        <apex:actionFunction action="{!SelectAccount}"
            name="DocuSignSelectAccount" />
        <apex:actionFunction action="{!NewAccount}" name="DocuSignNewAccount" />
        <apex:actionFunction action="{!SetNewAccountPassword}"
            name="DocuSignSetNewAccountPassword" />
        <apex:actionFunction action="{!ConnectDocuSignToSalesforce}"
            name="DocuSignConnectToSalesforce" />
        <apex:actionFunction action="{!LoginToExistingAccount}"
            name="DocuSignLoginToExistingAccount" />
        <apex:actionFunction action="{!UpdateAccountSettings}"
            name="DocuSignUpdateAccountSettings" />
        <apex:actionFunction action="{!GoToDocuSignAdmin}"
            name="DocuSignGoTodminPage" />

        <!-- START ACCOUNT CONFIGURATION -->
        <apex:pageBlock title="{!$Label.ConfigSFDC}"
            id="AccountConfiguration" mode="edit" tabstyle="DocuSign_Admin__tab"
            rendered="{!PageDisplayModeString=='ACCOUNT'}" helpTitle="{!$Label.LearnMore}"
            helpUrl="http://www.docusign.com/sites/default/files/Install%20and%20Configure%20DocuSign%20for%20Salesforce.pdf">
            <table class="headerTableStyle">
                <tr>
                    <td>

                    <div id="statusHeader">
                        <table id="headerTable">
                            <tr>
                            <td>
                            <!-- Create Account Header -->
                            <div id="headerBlueStart"></div>
                            <div id="headerBlueMiddle">
                            <div id="headTextContainer">
                                {!$Label.AccountCreation}
                            </div>
                            </div>
                            <div id="headerCreateAccountTransition1" ></div>
                            <div id="headerWhiteMiddle">
                            <div id="headTextContainer">
                                {!$Label.TrustedNetwork}
                            </div>
                            </div>
                            <div id="whiteArrowTransition">
                            </div>
                            <div id="headerWhiteMiddle">
                            <div id="headTextContainer">
                                {!$Label.FinalSteps}
                            </div>
                            </div>
                            <div id="headerWhiteEnd"></div>
                            </td>
                            </tr>
                        </table>
                    </div>
                     
                    </td>
                </tr>
            </table>
            <apex:outputPanel layout="block">
                <table style="padding: 0px 0px 0px 15px;">
                    <tr>
                        <td><apex:pageBlockSection columns="2">
                                <apex:outputPanel layout="block"
                                    styleClass="createAccountDivStyle">
                                    <table class="subHeaderTextStyle">
                                        <tr>
                                            <td><apex:outputText escape="false"
                                                    styleClass="headerTextStyle"
                                                    value="<b>{!$Label.LogIn}</b> {!$Label.ToExistingDSAccount}" />
                                            </td>
                                        </tr>
                                    </table>
                                    <apex:pageBlockSection columns="1">
                                        <apex:pageBlockSectionItem labelStyle="padding: 10px 10px 5px 0px;"
                                            dataStyle="padding: 10px 0px 5px 0px;">
                                            <apex:outputLabel value="{!$Label.EmailAddress}" for="ExistingEmail" />
                                            <apex:inputText value="{!DocuSignEmail}" id="ExistingEmail"
                                                size="40" styleClass="inputTextStyle" />
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem labelStyle="padding: 10px 10px 5px 0px;"
                                            dataStyle="padding: 10px 0px 5px 0px;">
                                            <apex:outputLabel value="{!$Label.Password}" for="ExistingPassword" />
                                            <apex:inputSecret value="{!DocuSignPassword}"
                                                id="ExistingPassword" size="40" styleClass="inputTextStyle" />
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem labelStyle="padding: 10px 10px 5px 0px;"
                                            dataStyle="padding: 10px 0px 5px 0px;">
                                            <apex:outputLabel value="{!$Label.Environment}" for="listDSEnvironment" />
                                            <apex:selectList value="{!DocuSignEnvironment}"
                                                multiselect="false" size="1" id="listDSEnvironment"
                                                styleClass="inputTextStyle" label="{!$Label.Environment}">
                                                <apex:selectOptions value="{!DocuSignEnvironments}"></apex:selectOptions>
                                            </apex:selectList>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem labelStyle="padding: 20px 10px 5px 0px;"
                                            dataStyle="padding: 20px 0px 5px 0px;"
                                            rendered="{!ShowDocuSignErrorMessages == true && useExistingAccount}">
                                            <apex:outputText value="" />
                                            <apex:outputText style="color: red" escape="true"
                                                value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                                        </apex:pageBlockSectionItem>
                                    </apex:pageBlockSection>
                                    <table width="100%" style="padding: 20px 0px 20px 0px;">
                                        <tr>
                                            <td style="text-align: center; padding: 0px 0px 20px 0px;">
                                                <apex:commandlink action="{!LoginToExistingAccount}"
                                                    styleClass="mainDocuSignButton">{!$Label.LogIn}</apex:commandlink>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center; padding: 0px 0px 20px 0px;">
                                                <apex:commandLink target="_blank"
                                                    action="{!getDocuSignForgotPasswordURL}"
                                                    value="{!$Label.ForgotPassword}" /></td>
                                        </tr>
                                    </table>
                                </apex:outputPanel>
                                <apex:outputPanel layout="block"
                                    styleClass="createAccountDivStyle">
                                    <table class="subHeaderTextStyle">
                                        <tr>
                                            <td><apex:outputText escape="false"
                                                    styleClass="headerTextStyle"
                                                    value="<b>{!$Label.SignUp}</b> {!$Label.ForFreeDSTrial}" /></td>
                                        </tr>
                                    </table>

                                    <apex:pageBlockSection columns="1">
                                        <apex:pageBlockSectionItem labelStyle="padding: 10px 10px 5px 0px;"
                                            dataStyle="padding: 10px 0px 5px 0px;">
                                            <apex:outputLabel value="{!$Label.EmailAddress}" for="NewAccountEmail" />
                                            <apex:inputText value="{!DocuSignNewAccountEmail}"
                                                id="NewAccountEmail" size="40" styleClass="inputTextStyle" />
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem labelStyle="padding: 10px 10px 10px 0px;"
                                            dataStyle="padding: 10px 0px 10px 0px;">
                                            <apex:outputText escape="false" value="&nbsp;" />
                                            <apex:outputText escape="false" value="&nbsp;" />
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem labelStyle="padding: 10px 10px 5px 0px;"
                                            dataStyle="padding: 10px 0px 5px 0px;">
                                            <apex:inputCheckbox id="chkAgreeToTerms"
                                                value="{!AgreeToTerms}"></apex:inputCheckbox>
                                            <apex:outputText >{!$Label.IAgreeToThe}&nbsp;
                                      <apex:outputLink target="new"
                                                    value="http://www.docusign.com/terms_and_conditions.php">{!$Label.DSTermsConditions}</apex:outputLink>
                                            </apex:outputText>
                                        </apex:pageBlockSectionItem>
                                        <apex:pageBlockSectionItem labelStyle="padding: 20px 10px 5px 0px;"
                                            dataStyle="padding: 20px 0px 5px 0px;"
                                            rendered="{!ShowDocuSignErrorMessages == true && !useExistingAccount}">
                                            <apex:outputText value="" />
                                            <apex:outputText style="color: red" escape="true"
                                                value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                                        </apex:pageBlockSectionItem>
                                    </apex:pageBlockSection>
                                    <table width="100%" style="padding: 20px 0px 20px 0px;">
                                        <tr>
                                            <td style="text-align: center; padding: 0px 0px 20px 0px;">
                                                <apex:commandlink action="{!CreateAccount}"
                                                    styleClass="mainDocuSignButton">{!$Label.CreateAccount}</apex:commandlink>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center; padding: 0px 0px 20px 0px;">&nbsp;</td>
                                        </tr>
                                    </table>
                                </apex:outputPanel>
                            </apex:pageBlockSection></td>
                    </tr>
                </table>
            </apex:outputPanel>
        </apex:pageBlock>


        <!-- START SELECT ACCOUNT -->
        <apex:pageBlock title="{!$Label.ConfigSFDC}"
            id="SelectAccount" tabstyle="DocuSign_Admin__tab"
            rendered="{!PageDisplayModeString=='SELECTACCOUNT'}"
            helpTitle="{!$Label.LearnMore}"
            helpUrl="http://www.docusign.com/sites/default/files/Install%20and%20Configure%20DocuSign%20for%20Salesforce.pdf">

            <table class="headerTableStyle">
                <tr>
                    <td>
                        <div id="statusHeader">
                            <table id="headerTable">
                                <tr>
                                    <td>
                                        <div id="headerBlueStart"></div>
                                        <div id="headerBlueMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.AccountCreation}
                                            </div>
                                        </div>
                                        <div id="headerCreateAccountTransition1" ></div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.TrustedNetwork}
                                            </div>
                                        </div>
                                        <div id="whiteArrowTransition">
                                        </div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.FinalSteps}
                                            </div>
                                        </div>
                                        <div id="headerWhiteEnd"></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
            <table class="offsetTableStyle">
                <tr>
                    <td><apex:outputPanel layout="block" styleClass="divStyle">
                            <table class="subHeaderTextStyle">
                                <tr>
                                    <td><apex:outputText styleClass="headerTextStyle"
                                            value="{!$Label.SelectOneEmailForSFDC}" />
                                    </td>
                                </tr>
                            </table>
                            <apex:selectRadio style="padding: 0px 0px 20px 40px;"
                                value="{!DocuSignSelectedAccount}" layout="pageDirection">
                                <apex:selectOptions value="{!DocuSignAccountList}" />
                            </apex:selectRadio>
                            
                            <apex:outputPanel title="{!$Label.ErrorMessages}" layout="block"
                                style="padding: 0px 100px 20px 100px;"
                                rendered="{!ShowDocuSignErrorMessages == true}">
                                <apex:outputText style="color: red" escape="false" value="</p>" />
                                <apex:outputText style="color: red" escape="true"
                                    value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                            </apex:outputPanel>
                        </apex:outputPanel></td>
                </tr>
            </table>
            <table class="backNextTableStyle">   
                <tr>
                    <td class="backButtonStyle">    
                    <a href="" style="float:right;" onclick="DocuSignBack();">
                    <div id="backButtonStart"></div>
                    <div id="backButtonMiddle">
                    <div id="headTextContainer">
                        {!$Label.Back}
                    </div>
                    </div>
                    <div id="backButtonEnd"></div>
                    </a>
                    
                    </td>
                    <td class="nextButtonStyle">
                        <div id="nextButtonStart"></div>
                        <div id="nextButtonMiddle" onclick="DocuSignSelectAccount();">
                            <div id="headTextContainer">{!$Label.NextUpperCase}</div>
                        </div>
                        <div id="nextButtonEnd"></div>
                    </td>
                </tr>
            </table>
            
        </apex:pageBlock>

        <!-- START UPDATE ACCOUNT SETTINGS -->
        <apex:pageBlock title="{!$Label.ConfigSFDC}"
            mode="edit" id="updateAccountSettings" tabstyle="DocuSign_Admin__tab"
            rendered="{!PageDisplayModeString=='UPDATEACCOUNT'}"
            helpTitle="{!$Label.LearnMore}"
            helpUrl="http://www.docusign.com/sites/default/files/Install%20and%20Configure%20DocuSign%20for%20Salesforce.pdf">

            <table class="headerTableStyle">
                <tr>
                    <td>
                        <div id="statusHeader">
                            <table id="headerTable">
                                <tr>
                                    <td>
                                        <div id="headerBlueStart"></div>
                                        <div id="headerBlueMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.AccountCreation}
                                            </div>
                                        </div>
                                        <div id="headerCreateAccountTransition1" ></div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.TrustedNetwork}
                                            </div>
                                        </div>
                                        <div id="whiteArrowTransition">
                                        </div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.FinalSteps}
                                            </div>
                                        </div>
                                        <div id="headerWhiteEnd"></div>
                                    </td> 
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
            <table style="padding: 0px 0px 0px 40px;">
                <tr>
                    <td><apex:outputPanel layout="block" styleClass="divStyle">
                            <table class="subHeaderTextStyle">
                                <tr>
                                    <td><apex:outputText styleClass="headerTextStyle"
                                            value="{!$Label.UpdateDSAccSettings}" /></td>
                                </tr>
                            </table>
                            <apex:pageBlockSection columns="1">
                           {!$Label.MissingSettingToBePrimaryAccountSFDC}.
                           <apex:outputText value="{0}">
                                    <apex:param value="{!DocuSignMissingSettings}" />
                                </apex:outputText>
                                <p>{!$Label.NextOrBackMessage}.
                                </p>
                                <p />
                            </apex:pageBlockSection>
                            <apex:outputPanel title="{!$Label.ErrorMessages}" layout="block"
                                style="padding: 0px 100px 20px 100px;"
                                rendered="{!ShowDocuSignErrorMessages == true}">
                                <apex:outputText style="color: red" escape="false" value="</p>" />
                                <apex:outputText style="color: red" escape="true"
                                    value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                            </apex:outputPanel>
                        </apex:outputPanel></td>
                </tr>
            </table>
            <table class="backNextTableStyle">
                <tr>
                    <td class="backButtonStyle">
                        <a href="" style="float:right;" onclick="DocuSignBack();">
                        <div id="backButtonStart"></div>
                        <div id="backButtonMiddle" onclick="DocuSignBack();">
                            <div id="headTextContainer">{!$Label.Back}</div>
                        </div>
                        <div id="backButtonEnd"></div>
                        </a>
                    </td>
                    <td class="nextButtonStyle">
                        <div id="nextButtonStart"></div>
                        <div id="nextButtonMiddle" onclick="DocuSignUpdateAccountSettings();">
                            <div id="headTextContainer">{!$Label.NextUpperCase}</div>
                        </div>
                        <div id="nextButtonEnd"></div>
                    </td>
                </tr>
                
                
            </table>
        </apex:pageBlock>

        <!-- START NEW ACCOUNT CONFIGURATION-->
        <apex:pageBlock title="{!$Label.ConfigSFDC}"
            mode="edit" id="newAccountConfiguration"
            tabstyle="DocuSign_Admin__tab"
            rendered="{!PageDisplayModeString=='NEWACCOUNT'}"
            helpTitle="{!$Label.LearnMore}"
            helpUrl="http://www.docusign.com/sites/default/files/Install%20and%20Configure%20DocuSign%20for%20Salesforce.pdf">

            <table class="headerTableStyle">
                <tr>
                    <td>
                        <div id="statusHeader">
                            <table id="headerTable">
                                <tr>
                                    <td>
                                        <div id="headerBlueStart"></div>
                                        <div id="headerBlueMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.AccountCreation}
                                            </div>
                                        </div>
                                        <div id="headerCreateAccountTransition1" ></div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.TrustedNetwork}
                                            </div>
                                        </div>
                                        <div id="whiteArrowTransition">
                                        </div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.FinalSteps}
                                            </div>
                                        </div>
                                        <div id="headerWhiteEnd"></div>
                                    </td> 
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
            
            <table style="padding: 0px 0px 0px 40px;">
                <tr>
                    <td><apex:outputPanel layout="block" styleClass="divStyle">
                            <table class="subHeaderTextStyle">
                                <tr>
                                    <td><apex:outputText styleClass="headerTextStyle"
                                            value="{!$Label.SignUpFreeDSTrial}" /></td>
                                </tr>
                            </table>
                            <table style="padding: 10px 0px 20px 40px;">
                                <tr>
                                    <td
                                        style="text-align: right; padding-right: 10px; padding-bottom: 15px;">{!$Label.Name}</td>
                                    <td><apex:inputText value="{!SetupCreateAccountFormInfo.MemberUserName}"
                                            id="UserName" size="40" styleClass="inputTextStyle" /></td>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr>
                                    <td
                                        style="text-align: right; padding-right: 10px; padding-bottom: 15px;">Phone
                                        {!$Label.PhoneNumber}</td>
                                    <td><apex:selectList value="{!CustomerPhoneCountry}"
                                            multiselect="false" size="1" id="listPhoneCountry"
                                            styleClass="selectStateStyle">
                                            <apex:selectOptions value="{!PhoneCountries}"></apex:selectOptions>
                                            <apex:actionSupport event="onchange"
                                                rerender="newAccountConfiguration" />
                                        </apex:selectList> <apex:inputText value="{!SetupCreateAccountFormInfo.Phone}"
                                            id="CustomerPhone" size="15" styleClass="selectStateStyle" />
                                    </td>
                                    <td>{!$Label.Ext}. <apex:inputText value="{!CustomerPhoneExt}"
                                            id="CustomerPhoneExt" size="10"
                                            styleClass="phoneExtensionStyle" /></td>
                                </tr>
                                <tr>
                                    <td
                                        style="text-align: right; padding-right: 10px; padding-bottom: 15px;">{!$Label.CompanyName}
                                        </td>
                                    <td><apex:inputText value="{!SetupCreateAccountFormInfo.AccountName}"
                                            id="CompanyName" size="40" styleClass="inputTextStyle" /></td>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr>
                                    <td
                                        style="text-align: right; padding-right: 10px; padding-bottom: 15px;">{!$Label.Country}</td>
                                    <td><apex:selectList value="{!SetupCreateAccountFormInfo.Country}"
                                            multiselect="false" size="1" id="listCountry"
                                            styleClass="inputTextStyle">
                                            <apex:selectOptions value="{!Countries}"></apex:selectOptions>
                                            <apex:actionSupport event="onchange"
                                                rerender="newAccountConfiguration" />
                                        </apex:selectList></td>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr>
                                    <td
                                        style="text-align: right; padding-right: 10px; padding-bottom: 15px;">{!$Label.StreetAddress}
                                        </td>
                                    <td><apex:inputText value="{!SetupCreateAccountFormInfo.Address1}"
                                            id="StreetAddress" styleClass="inputTextStyle" /></td>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr>
                                    <td
                                        style="text-align: right; padding-right: 10px; padding-bottom: 15px;">{!$Label.City}</td>
                                    <td><apex:inputText value="{!SetupCreateAccountFormInfo.City}" id="City"
                                            styleClass="inputTextStyle" /></td>
                                    <td>&nbsp;</td>
                                </tr>
                                <tr>
                                    <td
                                        style="text-align: right; padding-right: 10px; padding-bottom: 5px;">
                                        <apex:outputText value="{!$Label.State}"
                                            rendered="{!SetupCreateAccountFormInfo.Country == 'United States'}" />
                                        <apex:outputText value="{!$Label.Region}"
                                            rendered="{!SetupCreateAccountFormInfo.Country != 'United States'}" />
                                    </td>
                                    <td style="margin-left: 60px">
                                        <table>
                                            <tr>
                                                <td><apex:selectList value="{!SetupCreateAccountFormInfo.State}"
                                                        rendered="{!SetupCreateAccountFormInfo.Country == 'United States'}"
                                                        multiselect="false" size="1" id="listUSStates"
                                                        styleClass="selectStateStyle">
                                                        <apex:selectOptions value="{!USStates}"></apex:selectOptions>
                                                    </apex:selectList> <apex:inputText value="{!SetupCreateAccountFormInfo.State}"
                                                        rendered="{!SetupCreateAccountFormInfo.Country != 'United States'}"
                                                        styleClass="inputTextStyle" /></td>
                                                <td style="text-align: right; padding-left: 10px;"><apex:outputText value="{!$Label.Zip}"
                                                        rendered="{!SetupCreateAccountFormInfo.Country == 'United States'}" />
                                                    <apex:inputText style="margin-left: 10px"
                                                        value="{!SetupCreateAccountFormInfo.Zip}"
                                                        rendered="{!SetupCreateAccountFormInfo.Country == 'United States'}"
                                                        id="Zip" size="10" styleClass="selectStateStyle" /></td>
                                            </tr>
                                        </table></td>
                                    <td><apex:outputText value="{!$Label.PostCode}"
                                            rendered="{!SetupCreateAccountFormInfo.Country != 'United States'}" />
                                        <apex:inputText style="margin-left: 10px"
                                            value="{!SetupCreateAccountFormInfo.Zip}"
                                            rendered="{!SetupCreateAccountFormInfo.Country != 'United States'}"
                                            id="PostCode" size="10" styleClass="selectStateStyle" /></td>
                                </tr>
                            </table>
                            <apex:outputPanel title="{!$Label.ErrorMessages}" layout="block"
                                style="padding: 0px 100px 20px 100px;"
                                rendered="{!ShowDocuSignErrorMessages == true}">
                                <apex:outputText style="color: red" escape="false" value="</p>" />
                                <apex:outputText style="color: red" escape="true"
                                    value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                            </apex:outputPanel>
                        </apex:outputPanel></td>
                </tr>
            </table>
            <table class="backNextTableStyle">
                 <tr>
                    <td class="backButtonStyle">
                        <a href="" style="float:right;" onclick="DocuSignBack();">
                        <div id="backButtonStart"></div>
                        <div id="backButtonMiddle" onclick="DocuSignBack();">
                            <div id="headTextContainer">{!$Label.Back}</div>
                        </div>
                        <div id="backButtonEnd"></div>
                        </a>
                    </td>
                    <td class="nextButtonStyle">
                        <div id="nextButtonStart"></div>
                        <div id="nextButtonMiddle" onclick="DocuSignNewAccount();">
                            <div id="headTextContainer">{!$Label.NextUpperCase}</div>
                        </div>
                        <div id="nextButtonEnd"></div>      
                    </td>
                </tr>
                 
            </table>
        </apex:pageBlock>


        <!-- START PASSWORD CONFIRMATION-->
        <apex:pageBlock title="{!$Label.ConfigSFDC}"
            mode="edit" id="passwordConfirmation" tabstyle="DocuSign_Admin__tab"
            rendered="{!PageDisplayModeString=='PASSWORDCONFIRMATION'}"
            helpTitle="{!$Label.LearnMore}"
            helpUrl="http://www.docusign.com/sites/default/files/Install%20and%20Configure%20DocuSign%20for%20Salesforce.pdf">

            <table class="headerTableStyle">
                <tr>
                    <td>
                        <div id="statusHeader">
                            <table id="headerTable">
                                <tr>
                                    <td>
                                        <div id="headerBlueStart"></div>
                                        <div id="headerBlueMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.AccountCreation}
                                            </div>
                                        </div>
                                        <div id="headerCreateAccountTransition1" ></div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.TrustedNetwork}
                                            </div>
                                        </div>
                                        <div id="whiteArrowTransition">
                                        </div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">
                                                {!$Label.FinalSteps}
                                            </div>
                                        </div>
                                        <div id="headerWhiteEnd"></div>
                                    </td> 
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
            <table style="padding: 0px 0px 0px 40px;">
                <tr>
                    <td><apex:outputPanel layout="block" styleClass="divStyle">
                            <table class="subHeaderTextStyle">
                                <tr>
                                    <td><apex:outputText styleClass="headerTextStyle"
                                            value="{!$Label.SignUpFreeDSTrial}" /></td>
                                </tr>
                            </table>
                            <apex:pageBlockSection columns="1">
                                <apex:pageBlockSectionItem >
                                    <apex:outputText value="{!$Label.ConfirmActivateLoginMessage}.">
                                        <apex:param value="{!SetupCreateAccountFormInfo.MemberEmailAddress}" />
                                    </apex:outputText>
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem >
                                    <apex:outputText value="{!$Label.DSPassword}  " />
                                    <apex:inputSecret value="{!DocuSignPassword}"
                                        id="NewAccountPassword" size="40" styleClass="inputTextStyle" />
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                            <apex:outputPanel title="{!$Label.ErrorMessages}" layout="block"
                                style="padding: 0px 100px 20px 100px;"
                                rendered="{!ShowDocuSignErrorMessages == true}">
                                <apex:outputText style="color: red" escape="false" value="</p>" />
                                <apex:outputText style="color: red" escape="true"
                                    value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                            </apex:outputPanel>
                        </apex:outputPanel></td>
                </tr>
            </table>
            <table class="backNextTableStyle"> 
                <tr>
                    <td class="backButtonStyle">
                        <a href="" style="float:right;" onclick="DocuSignBack();">
                        <div id="backButtonStart"></div>
                        <div id="backButtonMiddle" onclick="DocuSignBack();">
                            <div id="headTextContainer">{!$Label.Back}</div>
                        </div>
                        <div id="backButtonEnd"></div>
                        </a>
                    </td>
                    <td class="nextButtonStyle">
                        <div id="nextButtonStart"></div>
                        <div id="nextButtonMiddle" onclick="DocuSignSetNewAccountPassword();">
                            <div id="headTextContainer">{!$Label.NextUpperCase}</div>
                        </div>
                        <div id="nextButtonEnd"></div>
                    </td>
                </tr>
                 
            </table>
        </apex:pageBlock>


        <!-- START TRUSTED NETWORK CONFIGURATION -->
        <apex:pageBlock title="{!$Label.ConfigSFDC}"
            mode="edit" id="trustedNetworkConfiguration"
            tabstyle="DocuSign_Admin__tab"
            rendered="{!PageDisplayModeString=='NETWORK'}" helpTitle="{!$Label.LearnMore}"
            helpUrl="http://www.docusign.com/sites/default/files/Install%20and%20Configure%20DocuSign%20for%20Salesforce.pdf">

            <table class="headerTableStyle">
                <tr>
                    <td>
                        <div id="statusHeader">
                            <table id="headerTable">
                                <tr>
                                     <td>
                                        <div id="headerWhiteStart"></div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">{!$Label.AccountCreation}</div>
                                        </div>
                                        <div id="headerTrustNetworkTransition1" ></div>
                                        <div id="headerBlueMiddle">
                                            <div id="headTextContainer">{!$Label.TrustedNetwork}</div>
                                        </div>
                                        <div id="headerTrustNetworkTransition2"></div>
                                        <div id="headerWhiteMiddle">
                                            <div id="headTextContainer">{!$Label.FinalSteps}</div>
                                        </div>
                                        <div id="headerWhiteEnd"></div>
                                     </td>
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
            <table>
                <tr>
                    <td><apex:outputPanel layout="block" styleClass="divStyle" style="width: 600px" >
                            <table class="subHeaderTextStyle">
                                <tr>
                                    <td>
                                        <apex:image url="{!$Resource.dsfs__DocuSignOne}"/> 
                                        <apex:outputText styleClass="headerTextStyle" value="{!$Label.AddDSTrusted}" style="padding: 0px 20px 0px 10px"/> 
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="tableplaceholder"></div>
                                    </td>
                                </tr>
                                <tr>
                                    <td> 
                                        <apex:outputText value="{!$Label.ClosePopup}" escape="false"/>
                                        
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="tableplaceholder"></div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a onclick="OpenIpRange('SFNetworkAddress', '{!DocuSignSetupIPRangeURL1}', 'height=600, width=950,scrollbars=1,resizable=1', 'checkbox1')" class="mainDocuSignButton" id="checkbox1">{!$Label.AutoSetupStep1}</a>
                                        <a onclick="OpenIpRange('SFNetworkAddress', '{!DocuSignSetupIPRangeURL2}', 'height=600, width=950,scrollbars=1,resizable=1', 'checkbox2')" class="mainDocuSignButton" id="checkbox2">{!$Label.AutoSetupStep2}</a>
                                        <a onclick="OpenIpRange('SFNetworkAddress', '{!DocuSignSetupIPRangeURL3}', 'height=600, width=950,scrollbars=1,resizable=1', 'checkbox3')" class="mainDocuSignButton" id="checkbox3">{!$Label.AutoSetupStep3}</a>
                                        <a onclick="OpenIpRange('SFNetworkAddress', '{!DocuSignSetupIPRangeURL4}', 'height=600, width=950,scrollbars=1,resizable=1', 'checkbox4')" class="mainDocuSignButton" id="checkbox4">{!$Label.AutoSetupStep4}</a>    
                                    </td>
                                </tr>
                                
                            </table>
                            <table style="padding: 30px 10px 5px 20px;">
                                <tr>
                                    <td><apex:image url="{!$Resource.dsfs__DocuSignTwo}" /> <apex:outputText styleClass="headerTextStyle"
                                            value="{!$Label.ConnectDSToSF}"
                                            style="padding: 0px 20px 0px 10px" /></td>
                                </tr>
                            </table>
                            <apex:pageBlockSection columns="1">
                                <apex:pageBlockSectionItem labelStyle="padding: 0px 10px 5px 0px; width:200px"
                                    dataStyle="padding: 0px 0px 5px 0px;">
                                    <apex:outputLabel value="{!$Label.SalesforceUser}"
                                        for="ConnectUserName" />
                                    <apex:inputText value="{!ConnectUsername}" id="ConnectUserName"
                                        size="40" styleClass="inputTextStyle" />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="padding: 20px 10px 5px 0px; width:200px"
                                    dataStyle="padding: 20px 0px 5px 0px;">
                                    <apex:outputLabel value="{!$Label.SalesforcePass}"
                                        for="ConnectPassword" />
                                    <apex:inputSecret value="{!ConnectPassword}"
                                        id="ConnectPassword" size="40" styleClass="inputTextStyle" />
                                </apex:pageBlockSectionItem>
                                <apex:pageBlockSectionItem labelStyle="padding: 10px 10px 5px 0px;"
                                    dataStyle="padding: 10px 0px 5px 0px;">
                                    <apex:outputLabel value="{!$Label.SalesforceEnv}"
                                        for="listSFEnvironment" />
                                    <apex:selectList value="{!SalesforceEnvironmentForConnect}"
                                        multiselect="false" size="1" id="listSFEnvironment"
                                        styleClass="inputTextStyle" label="Environment">
                                        <apex:selectOptions value="{!SalesforceEnvironmentForConnectList}"></apex:selectOptions>
                                    </apex:selectList>
                                </apex:pageBlockSectionItem>
                            </apex:pageBlockSection>
                            <p>&nbsp;</p>
                            <apex:outputPanel title="{!$Label.ErrorMessages}" layout="block"
                                style="padding: 0px 100px 20px 100px;"
                                rendered="{!ShowDocuSignErrorMessages == true}">
                                <apex:outputText style="color: red" escape="false" value="</p>" />
                                <apex:outputText style="color: red" escape="true"
                                    value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                            </apex:outputPanel>
                        </apex:outputPanel></td>
                </tr>
            </table>
            <table class="backNextTableStyle">
                <tr>
                    <td class="backButtonStyle">
                        <a href="" style="float:right;" onclick="DocuSignBack();">
                        <div id="backButtonStart"></div>
                        <div id="backButtonMiddle" onclick="DocuSignBack();">
                            <div id="headTextContainer">{!$Label.Back}</div>
                        </div>
                        <div id="backButtonEnd"></div>
                        </a>
                    </td>
                    <td class="nextButtonStyle">
                        <div id="nextButtonStart"></div>
                        <div id="nextButtonMiddle" onclick="DocuSignConnectToSalesforce();">
                            <div id="headTextContainer">{!$Label.NextUpperCase}</div>
                        </div>
                        <div id="nextButtonEnd"></div>  
                    </td>
                </tr>
                
                
            </table>
        </apex:pageBlock>

        <!-- START FINAL STEPS -->
        <apex:pageBlock title="{!$Label.ConfigSFDC}"
            mode="edit" id="finalSteps" tabstyle="DocuSign_Admin__tab"
            rendered="{!PageDisplayModeString=='FINISH'}" helpTitle="{!$Label.LearnMore}"
            helpUrl="http://www.docusign.com/sites/default/files/Install%20and%20Configure%20DocuSign%20for%20Salesforce.pdf">

            <table class="headerTableStyle">
                <tr>
                    <td>
                        <div id="statusHeader">
                            <table id="headerTable">
                                <tr>
                                    <td>
                                        <div id="headerWhiteStart"></div>
        <div id="headerWhiteMiddle">
            <div id="headTextContainer">
                {!$Label.AccountCreation}
            </div>
        </div>
        
        <div id="whiteArrowTransition" ></div>
        
        <div id="headerWhiteMiddle">
            <div id="headTextContainer">
                {!$Label.TrustedNetwork}
            </div>
        </div>
        <div id="headerFinalStepTransition2">
        </div>
        
        <div id="headerBlueMiddle">
            <div id="headTextContainer">
                {!$Label.FinalSteps}
            </div>
        </div>
        <div id="headerBlueEnd"></div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </td>
                </tr>
            </table>
            <table style="padding: 0px 0px 0px 40px;">
                <tr>
                    <td><apex:outputPanel layout="block" styleClass="divStyle">
                            <table class="subHeaderTextStyle">
                                <tr>
                                    <td><apex:outputText styleClass="headerTextStyle"
                                            value="{!$Label.AddDSButtonsToSF}" /></td>
                                </tr>
                            </table>
                            <table class="addButtonsTableStyle">
                                <tr>
                                    <td class="addButtonsCellStyle">{!$Label.Opportunity}</td>
                                    <td class="addButtonsCellStyle">{!$Label.Account}</td>
                                    <td class="addButtonsCellStyle">{!$Label.Contact}</td>
                                    <td class="addButtonsCellStyle">{!$Label.Lead}</td>
                                    <td class="addButtonsCellStyle">{!$Label.Contract}</td>
                                </tr>
                                <tr>
                                    <td class="addButtonsCellStyle"><a
                                        onclick="OpenURL('AddButton', '/ui/setup/layout/PageLayouts?type=Opportunity&setupid=OpportunityLayouts', 'height=600, width=950,scrollbars=1,resizable=1')"
                                        class="mainDocuSignButton">{!$Label.AddButtons}</a></td>
                                    <td class="addButtonsCellStyle"><a
                                        onclick="OpenURL('AddButton', '/ui/setup/layout/PageLayouts?type=Account&setupid=AccountLayouts', 'height=600, width=950,scrollbars=1,resizable=1')"
                                        class="mainDocuSignButton">{!$Label.AddButtons}</a></td>
                                    <td class="addButtonsCellStyle"><a
                                        onclick="OpenURL('AddButton', '/ui/setup/layout/PageLayouts?type=Contact&setupid=ContactLayouts', 'height=600, width=950,scrollbars=1,resizable=1')"
                                        class="mainDocuSignButton">{!$Label.AddButtons}</a></td>
                                    <td class="addButtonsCellStyle"><a
                                        onclick="OpenURL('AddButton', '/ui/setup/layout/PageLayouts?type=Lead&setupid=LeadLayouts', 'height=600, width=950,scrollbars=1,resizable=1')"
                                        class="mainDocuSignButton">{!$Label.AddButtons}</a></td>
                                    <td class="addButtonsCellStyle"><a
                                        onclick="OpenURL('AddButton', '/ui/setup/layout/PageLayouts?type=Contract&setupid=ContractLayouts', 'height=600, width=950,scrollbars=1,resizable=1')"
                                        class="mainDocuSignButton">{!$Label.AddButtons}</a></td>
                                </tr>
                            </table>
                            <apex:outputPanel title="{!$Label.ErrorMessages}" layout="block"
                                style="padding: 0px 100px 20px 100px;"
                                rendered="{!ShowDocuSignErrorMessages == true}">
                                <apex:outputText style="color: red" escape="false" value="</p>" />
                                <apex:outputText style="color: red" escape="true"
                                    value="{!HTMLENCODE(DocuSignErrorMessages)}" id="docusignErrorMessages" />
                            </apex:outputPanel>
                        </apex:outputPanel></td>
                </tr>
            </table>
            <table class="backNextTableStyle">
                <tr>
                    <td class="backButtonStyle">
                        <a href="" style="float:right;" onclick="DocuSignBack();">
                        <div id="backButtonStart"></div>
                        <div id="backButtonMiddle" onclick="DocuSignBack();">
                            <div id="headTextContainer">{!$Label.Back}</div>
                        </div>
                        <div id="backButtonEnd"></div>
                        </a> 
                    </td>
                    <td class="nextButtonStyle">
                        <div id="nextButtonStart"></div>
                        <div id="nextButtonMiddle" onclick="DocuSignGoTodminPage();">
                            <div id="headTextContainer">{!$Label.Done}</div>
                        </div>
                        <div id="nextButtonEnd"></div>
                    </td>
                </tr>
                
            </table>
        </apex:pageBlock>

    </apex:form>
</apex:page>